{"version":3,"file":"js/753.2cf9939d.js","mappings":"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","sources":["webpack://client/./src/views/OrderAddForm.vue?63fc","webpack://client/./src/views/OrderAddForm.vue?db43","webpack://client/./src/views/OrderAddForm.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h2\", { class: \"add-form__header\" }, \"Dodaj nowe zamówienie\", -1)\nconst _hoisted_2 = { class: \"form-order__header\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"add-form__button\",\n  type: \"submit\"\n}, \"Dodaj\", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_form_group = _resolveComponent(\"form-group\")!\n  const _component_form_group_dropdown = _resolveComponent(\"form-group-dropdown\")!\n  const _component_form_group_select = _resolveComponent(\"form-group-select\")!\n  const _component_order_form_list = _resolveComponent(\"order-form-list\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", {\n    class: \"form-order\",\n    onSubmit: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.submitForm && _ctx.submitForm(...args)))\n  }, [\n    _hoisted_1,\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_form_group, {\n        modelValue: _ctx.advance,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.advance) = $event)),\n        \"label-value\": \"Zaliczka\",\n        \"type-value\": \"number\",\n        \"placeholder-value\": \"Wpisz zaliczkę\",\n        \"name-value\": \"advance\"\n      }, null, 8, [\"modelValue\"]),\n      _createVNode(_component_form_group_dropdown, {\n        modelValue: _ctx.searchCustomer,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.searchCustomer) = $event)),\n        \"search-value\": _ctx.searchCustomer,\n        \"label-value\": \"Klient\",\n        \"type-value\": \"text\",\n        \"placeholder-value\": \"Wpisz nazwę klienta\",\n        \"name-value\": \"company\",\n        listDropdown: _ctx.$store.getters.getFiltredCustomer(_ctx.searchCustomer),\n        onSelected: _ctx.selectCustomer,\n        onReset: _ctx.isCustomerSelected\n      }, null, 8, [\"modelValue\", \"search-value\", \"listDropdown\", \"onSelected\", \"onReset\"]),\n      _createVNode(_component_form_group_select, {\n        \"label-value\": \"Status\",\n        \"list-dropdown\": [\r\n          'W przygotowaniu',\r\n          'Wysłano',\r\n          'Do odbioru',\r\n          'Odebrano',\r\n        ],\n        onSelected: _cache[2] || (_cache[2] = (item) => (_ctx.status = item))\n      })\n    ]),\n    _createVNode(_component_order_form_list),\n    _hoisted_3\n  ], 32))\n}","\r\nimport { defineComponent } from \"vue\";\r\nimport FormGroup from \"@/components/FormGroup.vue\";\r\nimport FormGroupDropdown from \"@/components/FormGroupDropdown.vue\";\r\nimport FormGroupSelect from \"@/components/FormGroupSelect.vue\";\r\nimport OrderFormList from \"@/components/OrderFormList.vue\";\r\nimport { IOrderPost, IOrderPostCommodity } from \"@/types\";\r\n\r\nexport default defineComponent({\r\n  components: { FormGroup, FormGroupDropdown, FormGroupSelect, OrderFormList },\r\n  mounted() {\r\n    this.$store.dispatch(\"getCustomers\");\r\n    this.$store.dispatch(\"getSuppliers\");\r\n    this.$store.dispatch(\"setCommodities\");\r\n    this.$store.commit(\"resetOrdersElements\");\r\n  },\r\n  data() {\r\n    return {\r\n      advance: 0,\r\n      searchCustomer: \"\",\r\n      customerId: \"\",\r\n      status: \"W przygotowaniu\",\r\n    };\r\n  },\r\n  methods: {\r\n    selectCustomer(id: string) {\r\n      this.searchCustomer = \"\";\r\n      this.customerId = id;\r\n    },\r\n    isCustomerSelected() {\r\n      if (this.customerId !== \"\") {\r\n        this.customerId = \"\";\r\n      }\r\n    },\r\n    async submitForm(e: Event) {\r\n      e.preventDefault();\r\n\r\n      const commoditiesList = new Array<IOrderPostCommodity>(0);\r\n\r\n      if (this.$store.state.ordersState.ordersFormElements.size > 0) {\r\n        this.$store.state.ordersState.ordersFormElements.forEach((item) => {\r\n          commoditiesList.push({\r\n            commodity: item.commodity,\r\n            supplier: item.supplier,\r\n            quantity: item.quantity,\r\n            price: item.price,\r\n            deliveryPrice: item.isCustomerPayForDelivery ? item.deliveryCost : 0,\r\n          });\r\n        });\r\n      }\r\n\r\n      const data: IOrderPost = {\r\n        customer: this.customerId,\r\n        advance: Number(this.advance),\r\n        status: this.status,\r\n        commodities: commoditiesList,\r\n      };\r\n\r\n      await this.$store.dispatch(\"addOrder\", data);\r\n\r\n      if (!this.$store.state.ordersState.isError) {\r\n        this.$router.replace({ replace: true, path: \"/d/orders\" });\r\n      } else {\r\n        this.$store.commit(\"toggleOrderError\");\r\n      }\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./OrderAddForm.vue?vue&type=template&id=19cf4dd0&ts=true\"\nimport script from \"./OrderAddForm.vue?vue&type=script&lang=ts\"\nexport * from \"./OrderAddForm.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Users\\\\wobbo\\\\OneDrive\\\\Pulpit\\\\PR\\\\projects_portfolio\\\\order-app\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","_createElementVNode","class","_hoisted_2","_hoisted_3","type","render","_ctx","_cache","$props","$setup","$data","$options","_component_form_group","_resolveComponent","_component_form_group_dropdown","_component_form_group_select","_component_order_form_list","_openBlock","_createElementBlock","onSubmit","args","submitForm","_createVNode","modelValue","advance","$event","searchCustomer","listDropdown","$store","getters","getFiltredCustomer","onSelected","selectCustomer","onReset","isCustomerSelected","item","status","defineComponent","components","FormGroup","FormGroupDropdown","FormGroupSelect","OrderFormList","mounted","this","dispatch","commit","data","customerId","methods","id","async","e","preventDefault","commoditiesList","Array","state","ordersState","ordersFormElements","size","forEach","push","commodity","supplier","quantity","price","deliveryPrice","isCustomerPayForDelivery","deliveryCost","customer","Number","commodities","isError","$router","replace","path","__exports__"],"sourceRoot":""}