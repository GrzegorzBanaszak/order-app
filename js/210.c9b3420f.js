"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[210],{5106:function(e,t,a){a.d(t,{Z:function(){return c}});var l=a(3396),u=a(7139);const n={class:"form-group"},o=["for"],i=["type","placeholder","name"];function r(e,t,a,r,p,s){return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("label",{for:e.nameValue},(0,u.zw)(e.labelValue),9,o),(0,l._)("input",{ref:"input",onInput:t[0]||(t[0]=(...t)=>e.updateValue&&e.updateValue(...t)),type:e.typeValue,placeholder:e.placeholderValue,name:e.nameValue,step:".01",autocomplete:"off"},null,40,i)])}var p=a(4870),s=(0,l.aZ)({setup(){const e=(0,p.iH)(null);return{input:e}},props:{placeholderValue:{type:String,required:!0},typeValue:{type:String,required:!0},labelValue:{type:String,required:!0},nameValue:{type:String,required:!0},defaultValue:{type:[String,Number]}},watch:{defaultValue:function(e){this.input&&this.defaultValue&&(this.input.value=e)}},methods:{updateValue(e){this.$emit("update:modelValue",e.target.value)}}}),d=a(89);const m=(0,d.Z)(s,[["render",r]]);var c=m},3778:function(e,t,a){a.d(t,{Z:function(){return f}});var l=a(3396),u=a(7139);const n={class:"form-group form-select"},o=["for"],i=["type","placeholder","name"],r={key:0,class:"form-select__container"},p=["onClick"];function s(e,t,a,s,d,m){return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("label",{for:e.nameValue},(0,u.zw)(e.labelValue),9,o),(0,l._)("input",{ref:"input",onInput:t[0]||(t[0]=(...t)=>e.updateValue&&e.updateValue(...t)),type:e.typeValue,placeholder:e.placeholderValue,name:e.nameValue,autocomplete:"off",onFocusin:t[1]||(t[1]=t=>e.isFocus=!0),onFocusout:t[2]||(t[2]=(...t)=>e.hideDropdown&&e.hideDropdown(...t))},null,40,i),e.isFocus?((0,l.wg)(),(0,l.iD)("div",r,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.listDropdown,(t=>((0,l.wg)(),(0,l.iD)("span",{class:"form-select__element",onClick:a=>e.selectedElement(t.id,t.name)},(0,u.zw)(t.name),9,p)))),256))])):(0,l.kq)("",!0)])}var d=a(4870),m=(0,l.aZ)({setup(){const e=(0,d.iH)(null),t=(0,d.iH)(!1);return{input:e,isFocus:t}},props:{placeholderValue:{type:String,required:!0},typeValue:{type:String,required:!0},labelValue:{type:String,required:!0},nameValue:{type:String,required:!0},searchValue:{type:String,required:!0},listDropdown:{type:Object,default:[]},defaultValue:{type:String}},watch:{defaultValue:function(e){this.input&&(this.input.value=e)}},methods:{updateValue(e){this.$emit("reset"),this.$emit("update:modelValue",e.target.value)},selectedElement(e,t){this.input&&(this.input.value=t),this.$emit("selected",e)},hideDropdown(){setTimeout((()=>{this.isFocus=!1}),100)}}}),c=a(89);const h=(0,c.Z)(m,[["render",s]]);var f=h},1210:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var l=a(3396);const u=(0,l._)("h2",{class:"add-form__header"},"Edytuj firmę",-1),n={class:"add-form__body"},o=(0,l._)("button",{class:"add-form__button",type:"submit"},"Dodaj",-1);function i(e,t,a,i,r,p){const s=(0,l.up)("form-group");return(0,l.wg)(),(0,l.iD)("form",{class:"add-form",onSubmit:t[2]||(t[2]=(...t)=>e.submitForm&&e.submitForm(...t))},[u,(0,l._)("div",n,[(0,l.Wm)(s,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),"label-value":"Nazwa firmy","type-value":"text","placeholder-value":"Podaj nazwę","name-value":"name","default-value":e.name},null,8,["modelValue","default-value"]),(0,l.Wm)(s,{modelValue:e.nip,"onUpdate:modelValue":t[1]||(t[1]=t=>e.nip=t),"label-value":"Nip","type-value":"number","placeholder-value":"Podaj nip","name-value":"phoneNumber","default-value":e.nip},null,8,["modelValue","default-value"]),o])],32)}var r=a(4997),p=a(4870),s=a(5106),d=a(3778),m=a(2483),c=(0,l.aZ)({components:{FormGroup:s.Z,FormGroupDropdown:d.Z},setup(){const e=(0,r.oR)(),t=(0,m.yj)();e.dispatch("getCompanies");const a=(0,p.iH)(""),l=(0,p.iH)(""),u=(0,p.iH)("");return e.dispatch("getCompanyDetail",t.params.id).then((()=>{e.state.companiesState.companyDetail&&(a.value=e.state.companiesState.companyDetail.id,l.value=e.state.companiesState.companyDetail.name,u.value=e.state.companiesState.companyDetail.nip)})),{name:l,nip:u,companyId:a}},methods:{async submitForm(e){e.preventDefault();const t={name:this.name,nip:this.nip},a={id:this.companyId,data:t};await this.$store.dispatch("editCompany",a),this.$store.state.companiesState.isError?this.$store.commit("toggleCompanyError"):this.$router.replace({replace:!0,path:"/d/companies"})}}}),h=a(89);const f=(0,h.Z)(c,[["render",i]]);var y=f}}]);
//# sourceMappingURL=210.c9b3420f.js.map