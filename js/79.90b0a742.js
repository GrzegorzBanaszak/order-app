"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[79],{5106:function(e,t,a){a.d(t,{Z:function(){return d}});var u=a(3396),l=a(7139);const o={class:"form-group"},r=["for"],n=["type","placeholder","name"];function s(e,t,a,s,i,m){return(0,u.wg)(),(0,u.iD)("div",o,[(0,u._)("label",{for:e.nameValue},(0,l.zw)(e.labelValue),9,r),(0,u._)("input",{ref:"input",onInput:t[0]||(t[0]=(...t)=>e.updateValue&&e.updateValue(...t)),type:e.typeValue,placeholder:e.placeholderValue,name:e.nameValue,step:".01",autocomplete:"off"},null,40,n)])}var i=a(4870),m=(0,u.aZ)({setup(){const e=(0,i.iH)(null);return{input:e}},props:{placeholderValue:{type:String,required:!0},typeValue:{type:String,required:!0},labelValue:{type:String,required:!0},nameValue:{type:String,required:!0},defaultValue:{type:[String,Number]}},watch:{defaultValue:function(e){this.input&&this.defaultValue&&(this.input.value=e)}},methods:{updateValue(e){this.$emit("update:modelValue",e.target.value)}}}),c=a(89);const p=(0,c.Z)(m,[["render",s]]);var d=p},3778:function(e,t,a){a.d(t,{Z:function(){return f}});var u=a(3396),l=a(7139);const o={class:"form-group form-select"},r=["for"],n=["type","placeholder","name"],s={key:0,class:"form-select__container"},i=["onClick"];function m(e,t,a,m,c,p){return(0,u.wg)(),(0,u.iD)("div",o,[(0,u._)("label",{for:e.nameValue},(0,l.zw)(e.labelValue),9,r),(0,u._)("input",{ref:"input",onInput:t[0]||(t[0]=(...t)=>e.updateValue&&e.updateValue(...t)),type:e.typeValue,placeholder:e.placeholderValue,name:e.nameValue,autocomplete:"off",onFocusin:t[1]||(t[1]=t=>e.isFocus=!0),onFocusout:t[2]||(t[2]=(...t)=>e.hideDropdown&&e.hideDropdown(...t))},null,40,n),e.isFocus?((0,u.wg)(),(0,u.iD)("div",s,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(e.listDropdown,(t=>((0,u.wg)(),(0,u.iD)("span",{class:"form-select__element",onClick:a=>e.selectedElement(t.id,t.name)},(0,l.zw)(t.name),9,i)))),256))])):(0,u.kq)("",!0)])}var c=a(4870),p=(0,u.aZ)({setup(){const e=(0,c.iH)(null),t=(0,c.iH)(!1);return{input:e,isFocus:t}},props:{placeholderValue:{type:String,required:!0},typeValue:{type:String,required:!0},labelValue:{type:String,required:!0},nameValue:{type:String,required:!0},searchValue:{type:String,required:!0},listDropdown:{type:Object,default:[]},defaultValue:{type:String}},watch:{defaultValue:function(e){this.input&&(this.input.value=e)}},methods:{updateValue(e){this.$emit("reset"),this.$emit("update:modelValue",e.target.value)},selectedElement(e,t){this.input&&(this.input.value=t),this.$emit("selected",e)},hideDropdown(){setTimeout((()=>{this.isFocus=!1}),100)}}}),d=a(89);const h=(0,d.Z)(p,[["render",m]]);var f=h},3079:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var u=a(3396);const l=(0,u._)("h2",{class:"add-form__header"},"Edytuj klienta",-1),o={class:"add-form__body"},r=(0,u._)("button",{class:"add-form__button",type:"submit"},"Dodaj",-1);function n(e,t,a,n,s,i){const m=(0,u.up)("form-group"),c=(0,u.up)("form-group-dropdown");return(0,u.wg)(),(0,u.iD)("form",{class:"add-form",onSubmit:t[3]||(t[3]=(...t)=>e.submitForm&&e.submitForm(...t))},[l,(0,u._)("div",o,[(0,u.Wm)(m,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),"label-value":"Imie i nazwisko","type-value":"text","placeholder-value":"Podaj nazwę","name-value":"name","default-value":e.name},null,8,["modelValue","default-value"]),(0,u.Wm)(m,{modelValue:e.phoneNumber,"onUpdate:modelValue":t[1]||(t[1]=t=>e.phoneNumber=t),"label-value":"Numer telefonu","type-value":"number","placeholder-value":"Podaj numer telefonu","name-value":"phoneNumber","default-value":e.phoneNumber},null,8,["modelValue","default-value"]),(0,u.Wm)(c,{modelValue:e.search,"onUpdate:modelValue":t[2]||(t[2]=t=>e.search=t),"search-value":e.search,"label-value":"Firma","type-value":"text","placeholder-value":"Wpisz nazwę","name-value":"company","default-value":e.companyName,listDropdown:e.$store.getters.getFiltredCompanies(e.search),onSelected:e.elementClick,onReset:e.isCorrectSelected},null,8,["modelValue","search-value","default-value","listDropdown","onSelected","onReset"]),r])],32)}var s=a(4997),i=a(4870),m=a(5106),c=a(3778),p=a(2483),d=(0,u.aZ)({components:{FormGroup:m.Z,FormGroupDropdown:c.Z},setup(){const e=(0,s.oR)(),t=(0,p.yj)();e.dispatch("getCompanies");const a=(0,i.iH)(""),u=(0,i.iH)(""),l=(0,i.iH)(""),o=(0,i.iH)(""),r=(0,i.iH)("");e.dispatch("getCustomerDetail",t.params.id).then((()=>{e.state.customersState.customerDetail&&(a.value=e.state.customersState.customerDetail.id,u.value=e.state.customersState.customerDetail.name,l.value=e.state.customersState.customerDetail.phoneNumber,e.state.customersState.customerDetail.company&&(o.value=e.state.customersState.customerDetail.company.id,r.value=e.state.customersState.customerDetail.company.name))}));const n=(0,i.iH)("");return{name:u,phoneNumber:l,search:n,companyId:o,companyName:r,customerId:a}},methods:{elementClick(e){this.search="",this.companyId=e},isCorrectSelected(){""!==this.companyId&&(this.companyId="")},async submitForm(e){e.preventDefault();const t={name:this.name,phoneNumber:this.phoneNumber,company:""!==this.companyId?this.companyId:null},a={id:this.customerId,data:t};await this.$store.dispatch("editCustomer",a),this.$store.state.customersState.isError?this.$store.commit("toggleCustomerError"):this.$router.replace({replace:!0,path:"/d/customers"})}}}),h=a(89);const f=(0,h.Z)(d,[["render",n]]);var v=f}}]);
//# sourceMappingURL=79.90b0a742.js.map